<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Sala</title>
    <link rel="stylesheet" th:href="@{/css/editar.css}"> </head>
<body>
	<nav th:fragment="main-navbar" class="navbar">
		    <div class="navbar-brand">
		        <a th:href="@{/empresarial}">Início</a>
		    </div>
		    <ul class="navbar-nav">
		        <li class="nav-item">
		            <a th:href="@{/empresarial/cliente}" class="nav-link">Clientes</a>
		        </li>
		        <li class="nav-item">
		            <a th:href="@{/empresarial/locatario}" class="nav-link">Locatários</a>
		        </li>
		        <li class="nav-item">
		            <a th:href="@{/empresarial/sala}" class="nav-link">Salas</a>
		        </li>
		        <li class="nav-item">
		            <a th:href="@{/empresarial/relatorio}" class="nav-link">Relatórios</a>
		        </li>
		    </ul>
		</nav>
	<div class="main-container"> <h2>Adicionar Consulta</h2>
			<div th:if="${mensagemSucesso}" class="success-message">
			            <p th:text="${mensagemSucesso}"></p>
			</div>
	        <div th:if="${mensagemErro}" class="error-message">
	            <p th:text="${mensagemErro}"></p>
	        </div>

			<div class="form-section editable-form-section"> <h3>Formulário de consulta</h3>
			       <form method="post" th:action="@{/empresarial/sala/consulta}" th:object="${consultaDto}" class="styled-form">
			           <div class="form-group">
							<label for="id">Digite o nome do cliente:</label>
							<input type="text" id="nome" name="nome" th:field="*{clienteNome}" required>
							<p th:if="${#fields.hasErrors('clienteNome')}" th:errors="*{clienteNome}" class="error-message"></p>		
						</div>
						
					<div th:if="${mensagemSalasErro}"class="error-message-general">
						<p th:text="${mensagemSalasErro}"></p>
					</div>
					
					<div th:if="${salas}">
						<div class="form-group">
							<label for="salaId">Locatário:</label>
							<select id="salaId" th:field="*{salaId}" class="form-control" required>
							<option value="">-- Selecione um Locatário--</option>
							<option th:each="sala : ${salas}" 
							th:value="${sala.id}" 
							th:text="${sala.numero+' | '+ sala.locatario.name + ' (' + sala.locatario.job + ')'}"
							th:selected="${sala.id == consultaDto.salaId}"></option>
						 </select>
						 <p th:if="${#fields.hasErrors('salaId')}" th:errors="*{salaId}" class="error-message"></p>
						</div>
					</div>
					
					<button type="submit" class="btn-primary">Adicionar</button>
					
					</form>
					<a th:href="@{/empresarial/sala}" class="btn-cancel">Cancelar</a> </div>
			</div>
		</div>
	</body>
</html>
			